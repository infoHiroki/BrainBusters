# BrainBusters タスク管理

## 完了済み

### UI/UX改善
- [x] カード選択画面の切れ修正（縦・横）
- [x] カードサイズの拡大（130x185 → 150x215）
- [x] アニメーション表示時間の延長（1.5s → 2.5s）
- [x] レリック表示をタップで展開する形式に変更
- [x] ブロックの詳細説明をルールブックに追加
- [x] 敵の行動予告（Intent）を削除
- [x] 敵の攻撃を一体ずつ順次処理
- [x] メッセージをスタック表示（複数同時表示可能）

### ゲームシステム
- [x] ゲームを長く（15階 → 25階 → 50階、ボス5体）
- [x] 敵の数を増加（後半は2-3体）
- [x] 26-50階用の新敵・エリート追加
- [x] ストックカードシステムの実装
- [x] 休憩所削除・ボス撃破時HP30%回復に変更
- [x] カード効果のバリエーション追加（10種類/タイプ）
- [x] 13カテゴリ別のカード効果テンプレート実装
- [x] 敵のバフ/デバフ処理を実装（筋力強化、弱体付与）
- [x] バランス調整（エネルギー4、HP70、0コスト減少、効果値増加）
- [x] 全体攻撃の威力向上（0.8-0.95倍）

### ドキュメント・テスト
- [x] ルールブック作成（RULEBOOK.md）
- [x] ユニットテスト追加（cards, enemies, gameState）

---

## 未完了

### 即時対応（優先度: 最高）
- [ ] CLAUDE.md作成
- [ ] archiveフォルダ作成
- [ ] configフォルダ作成・jest設定を移動
- [ ] ルート直下のファイル整理

### Phase 1: 難易度調整（優先度: 高）
- [ ] 敵のダメージをさらに調整
- [ ] 敵のHPをさらに調整
- [ ] 「防御しないと死ぬ」緊張感の確認

### Phase 2: 概念タグシステム（優先度: 中）
- [ ] concepts.jsonにタグフィールドを追加
- [ ] タグの定義（実存主義、合理主義、古代ギリシャ、感情など）
- [ ] 500概念へのタグ付与
- [ ] コンボ判定ロジックの実装（同タグ連続で効果UP）
- [ ] コンボ発動時のUI演出

### Phase 3: リスク/リターン（優先度: 中）
- [ ] HPコストカードの追加（HP消費で強力効果）
- [ ] 条件付きカードの追加（HP50%以下で発動など）
- [ ] ギャンブルカードの追加（ランダム効果）
- [ ] 遅延効果カードの追加（3ターン後に発動など）

### Phase 4: コンボ発見システム（優先度: 低）
- [ ] コンボ図鑑UIの作成
- [ ] 発見演出の実装
- [ ] 発見済みコンボの永続保存

### その他改善
- [ ] ショップ機能の充実（カード購入・削除）
- [ ] 図鑑機能（発見したカード/敵/レリック）
- [ ] 敵の行動パターンの多様化
- [ ] レリック効果の実装確認・修正

---

## バグ・課題

### 確認が必要
- [ ] レリック効果が実際に発動しているか確認
- [ ] ステータス効果（バフ/デバフ）の計算が正しいか確認
- [ ] ショップでの購入処理が正常か確認

---

## 技術的負債

- [ ] 休憩所関連のコード削除（RunScreen内の未使用コード）
- [ ] テストカバレッジの向上
- [ ] エラーハンドリングの強化

---

## メモ

### 核心的な問題（プランより）
> 現状は「カードを出す作業」であり「ゲーム」ではない
> - どのカードを出しても結果がほぼ同じ
> - 考えずに出せる → 意思決定がない
> - 失敗しない → リスクがない

### 解決の方向性
1. **Phase 1** で難易度を上げ「防御が必要」な状況を作る
2. **Phase 2** でタグシステムによりシナジーを追加
3. **Phase 3** でリスク/リターンの選択を追加
