// ã‚¿ã‚°ãƒ»ã‚³ãƒ³ãƒœã‚·ã‚¹ãƒ†ãƒ ã®å‹å®šç¾©
// ãƒ–ãƒƒã‚¯ãƒªã‚¹ãƒˆçš„ã‚¢ãƒ—ãƒ­ãƒ¼ãƒï¼šè‘—è€…ã¨è‘—ä½œã®é–¢ä¿‚ã‚’ä¸­å¿ƒã«å“²å­¦ã®ä¸–ç•Œã‚’è¡¨ç¾

// ========================================
// æ™‚ä»£åŒºåˆ†ï¼ˆãƒ–ãƒƒã‚¯ãƒªã‚¹ãƒˆæº–æ‹ ï¼‰
// ========================================
export type Era =
  | 'ancient'      // å¤ä»£ï¼ˆã€œ500å¹´ï¼‰
  | 'medieval'     // ä¸­ä¸–ï¼ˆ500ã€œ1500å¹´ï¼‰
  | '1500s-1700s'  // è¿‘ä¸–
  | '1800s'        // 19ä¸–ç´€
  | '1900-1950'    // ã€œ1950å¹´ä»£
  | '1960s'        // 1960å¹´ä»£
  | '1970s'        // 1970å¹´ä»£
  | '1980s-now';   // 1980å¹´ä»£ã€œ

// ========================================
// è‘—è€…ã‚«ãƒ†ã‚´ãƒªï¼ˆãƒ–ãƒƒã‚¯ãƒªã‚¹ãƒˆæº–æ‹  + æ‹¡å¼µï¼‰
// ========================================
export type AuthorCategory =
  | 'æ€æƒ³ãƒ»å“²å­¦ï¼ˆå¤ä»£ï¼‰'
  | 'æ€æƒ³ãƒ»å“²å­¦ï¼ˆè¿‘ç¾ä»£ï¼‰'
  | 'ä»æ•™ãƒ»ç¦…'
  | 'æ—¥æœ¬æ–‡å­¦'
  | 'æµ·å¤–æ–‡å­¦'
  | 'å¿ƒç†å­¦'
  | 'ç§‘å­¦';

// ========================================
// è‘—è€…ãƒã‚¹ã‚¿ãƒ¼
// ========================================
export interface Author {
  id: string;                    // "nietzsche"
  name: string;                  // "ãƒ‹ãƒ¼ãƒã‚§"
  era: Era;                      // "1800s"
  category: AuthorCategory;      // "æ€æƒ³ãƒ»å“²å­¦ï¼ˆè¿‘ç¾ä»£ï¼‰"
  schools?: string[];            // ["å®Ÿå­˜ä¸»ç¾©", "è™šç„¡ä¸»ç¾©"]
  description?: string;          // ç´¹ä»‹æ–‡
}

// ========================================
// ã‚«ãƒ¼ãƒ‰ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„åˆ†é¡
// ========================================
export type CardCategory =
  | 'quote'      // åè¨€ãƒ»è‘—ä½œã‹ã‚‰ã®å¼•ç”¨
  | 'person'     // äººç‰©ãã®ã‚‚ã®
  | 'emotion'    // æ„Ÿæƒ…ãƒ»å¿ƒç†çŠ¶æ…‹
  | 'concept'    // æŠ½è±¡æ¦‚å¿µ
  | 'action'     // è¡Œç‚ºãƒ»å®Ÿè·µ
  | 'mythology'  // ç¥è©±ãƒ»ä¼èª¬
  | 'science';   // ç§‘å­¦ãƒ»è«–ç†

// ========================================
// ã‚«ãƒ¼ãƒ‰ã‚¿ã‚°ï¼ˆCardå‹ã«è¿½åŠ ã™ã‚‹ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼‰
// ========================================
export interface CardTags {
  authorId?: string;             // è‘—è€…IDï¼ˆè‘—è€…ã«é–¢é€£ã™ã‚‹ã‚«ãƒ¼ãƒ‰ã®å ´åˆï¼‰
  category: CardCategory;        // ã‚³ãƒ³ãƒ†ãƒ³ãƒ„åˆ†é¡
  workTitle?: string;            // è‘—ä½œã‚¿ã‚¤ãƒˆãƒ«ï¼ˆç‰¹å®šã®è‘—ä½œã‹ã‚‰ã®å¼•ç”¨ã®å ´åˆï¼‰
}

// ========================================
// é–¢ä¿‚æ€§ã‚¿ã‚¤ãƒ—
// ========================================
export type RelationType =
  | 'master_student'   // å¸«å¼Ÿé–¢ä¿‚
  | 'influence'        // å½±éŸ¿ã‚’ä¸ãˆãŸ
  | 'opposition'       // å¯¾ç«‹ãƒ»æ‰¹åˆ¤
  | 'same_school'      // åŒã˜æµæ´¾
  | 'contemporary';    // åŒæ™‚ä»£

// ========================================
// é–¢ä¿‚æ€§ãƒã‚¹ã‚¿ãƒ¼
// ========================================
export interface Relation {
  type: RelationType;
  from: string;                  // è‘—è€…ID
  to: string;                    // è‘—è€…ID
  description: string;           // ã‚³ãƒ³ãƒœç™ºå‹•æ™‚ã«è¡¨ç¤ºã™ã‚‹èª¬æ˜
  comboName?: string;            // å°‚ç”¨ã‚³ãƒ³ãƒœåï¼ˆè¨­å®šã•ã‚Œã¦ã„ã‚Œã°å„ªå…ˆï¼‰
}

// ========================================
// ã‚³ãƒ³ãƒœã‚¿ã‚¤ãƒ—
// ========================================
export type ComboType =
  | 'author'           // åŒä¸€è‘—è€…ã‚³ãƒ³ãƒœ
  | 'work'             // åŒä¸€è‘—ä½œã‚³ãƒ³ãƒœ
  | 'master_student'   // å¸«å¼Ÿã‚³ãƒ³ãƒœ
  | 'opposition'       // å¯¾ç«‹ã‚³ãƒ³ãƒœ
  | 'school'           // æµæ´¾ã‚³ãƒ³ãƒœ
  | 'theme';           // ãƒ†ãƒ¼ãƒã‚³ãƒ³ãƒœ

// ========================================
// ã‚³ãƒ³ãƒœåŠ¹æœ
// ========================================
export interface ComboEffect {
  type: 'damage' | 'block' | 'draw' | 'energy' | 'heal' | 'buff' | 'debuff';
  value: number;
  target?: 'self' | 'single' | 'all';  // å¯¾è±¡ï¼ˆdefault: selfï¼‰
  buffType?: string;                     // ãƒãƒ•/ãƒ‡ãƒãƒ•ã®ç¨®é¡
  duration?: number;                     // æŒç¶šã‚¿ãƒ¼ãƒ³
}

// ========================================
// ã‚³ãƒ³ãƒœå®šç¾©
// ========================================
export interface ComboDefinition {
  id: string;                    // "nietzsche_power"
  name: string;                  // "åŠ›ã¸ã®æ„å¿—"
  type: ComboType;               // "author"

  // ç™ºå‹•æ¡ä»¶
  condition: {
    authorId?: string;           // ç‰¹å®šè‘—è€…ã®ã‚«ãƒ¼ãƒ‰
    authorIds?: string[];        // è¤‡æ•°è‘—è€…ã®ã„ãšã‚Œã‹
    relationType?: RelationType; // é–¢ä¿‚æ€§ã‚¿ã‚¤ãƒ—
    workTitle?: string;          // ç‰¹å®šè‘—ä½œ
    school?: string;             // æµæ´¾
    minCards: number;            // å¿…è¦ã‚«ãƒ¼ãƒ‰æ•°ï¼ˆdefault: 2ï¼‰
  };

  // å ±é…¬
  effects: ComboEffect[];

  // æ¼”å‡º
  icon: string;                  // "ğŸ”¥"
  screenEffect?: 'shake' | 'glow' | 'lightning' | 'sparkle';

  // ãƒ•ãƒ¬ãƒ¼ãƒãƒ¼
  quote: string;                 // ã€Œç¥ã¯æ­»ã‚“ã ã€
  description: string;           // å“²å­¦çš„è§£èª¬
}

// ========================================
// ã‚³ãƒ³ãƒœç™ºå‹•çµæœ
// ========================================
export interface ComboResult {
  combo: ComboDefinition;
  triggeredBy: string[];         // ç™ºå‹•ã«ä½¿ç”¨ã—ãŸã‚«ãƒ¼ãƒ‰ã®instanceId
  appliedEffects: {
    effect: ComboEffect;
    actualValue: number;         // å®Ÿéš›ã«é©ç”¨ã•ã‚ŒãŸå€¤
  }[];
}

// ========================================
// ã‚³ãƒ³ãƒœåˆ¤å®šç”¨ã®ã‚«ãƒ¼ãƒ‰æƒ…å ±
// ========================================
export interface ComboCardInfo {
  instanceId: string;
  authorId?: string;
  category: CardCategory;
  workTitle?: string;
  schools?: string[];            // è‘—è€…ã‹ã‚‰ç¶™æ‰¿
}
